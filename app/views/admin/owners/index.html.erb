<div class="max-w-7xl mx-auto">
  <div class="mb-4">
    <h1 class="text-2xl font-semibold">Manage Owners</h1>
  </div>

  <div class="bg-white border border-stone-200 rounded">
    <table class="min-w-full divide-y divide-stone-200">
      <thead class="bg-stone-50">
        <tr>
          <th class="px-4 py-2 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">Username</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">Email</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">Admin</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">Computers</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">Components</th>
          <th class="px-4 py-2"></th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-stone-200 text-sm">
        <% @owners.each do |owner| %>
          <tr>
            <td class="px-4 py-3 whitespace-nowrap font-medium">
              <%= link_to owner.user_name, owner, class: "text-stone-700 hover:text-stone-900" %>
            </td>
            <td class="px-4 py-3 whitespace-nowrap text-stone-600"><%= owner.email %></td>
            <td class="px-4 py-3 whitespace-nowrap">
              <% if owner.admin? %>
                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-stone-100 text-stone-700 border border-stone-300">Admin</span>
              <% end %>
            </td>
            <td class="px-4 py-3 whitespace-nowrap text-stone-600"><%= owner.computers.count %></td>
            <td class="px-4 py-3 whitespace-nowrap text-stone-600"><%= owner.components.count %></td>
            <td class="px-4 py-3 whitespace-nowrap text-right space-x-2 flex items-center justify-end">
              <% unless owner == Current.owner %>
                <%= link_to "Edit", edit_admin_owner_path(owner), class: "text-stone-700 hover:text-stone-900 text-sm" %>
                <%= button_to "Reset Password", send_password_reset_admin_owner_path(owner), data: { turbo_confirm: "Send a password reset email to #{owner.email}?" }, class: "text-stone-700 hover:text-stone-900 text-sm" %>
                <%= button_to "Delete", admin_owner_path(owner), method: :delete, data: { turbo_confirm: "Are you sure? This will delete the owner and all their computers and components." }, class: "text-stone-700 hover:text-stone-900 text-sm" %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
